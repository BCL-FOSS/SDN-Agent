# Caddyfile

agent.baughcl.tech {

    handle /* {
		reverse_proxy agentapp:4000
	}

	handle /login* {
		reverse_proxy agentapp:4000
	}

	handle /register* {
		reverse_proxy agentapp:4000
	}

	handle /agent* {
		reverse_proxy agentapp:4000
	}

	handle /settings* {
		reverse_proxy agentapp:4000
	}

	handle /logout* {
		reverse_proxy agentapp:4000
	}

}

socket.baughcl.tech {
	@websockets {
		header Connection *Upgrade*
		header Upgrade    websocket
	}

	handle /ws* {
		reverse_proxy @websockets socketapp:5000
	}

	handle /messages* {
		reverse_proxy mntrapp:5000
	}

	handle /send_message* {
		reverse_proxy mntrapp:5000
	}

}







